KoM_magus = {
	flag = mage

	name = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_KoM_magus
			}
			triggered_desc = {
				trigger = {
					faith = { has_doctrine_parameter = witchcraft_illegal }
					NOT = { is_local_player = yes }
				}
				desc = trait_witch
			}
			desc = trait_KoM_magus
		}
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_KoM_magus_desc
			}
			triggered_desc = {
				trigger = {
					faith = { has_doctrine_parameter = witchcraft_illegal }
					NOT = { is_local_player = yes }
				}
				desc = trait_KoM_witch_desc
			}
			desc = trait_KoM_magus_desc
		}
	}

	triggered_opinion = {
		parameter = witchcraft_illegal
		opinion_modifier = witchcraft_crime
		ignore_opinion_value_if_same_trait = yes
	}

	triggered_opinion = {
		parameter = witchcraft_shunned
		opinion_modifier = witchcraft_intolerant
		ignore_opinion_value_if_same_trait = yes
	}

	track = {
		10 = { KoM_terrain_type_goetia_novice_cancel_negative_supply = yes }
		25 = { KoM_terrain_type_goetia_apprentice_cancel_negative_supply = yes }
		50 = { KoM_terrain_type_goetia_adept_cancel_negative_supply = yes }
		75 = { KoM_terrain_type_goetia_expert_cancel_negative_supply = yes }
		100 = { KoM_terrain_type_goetia_master_cancel_negative_supply = yes }
	}

	icon = magus.dds
}
KoM_thaumaturge = {
	flag = mage

	name = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_KoM_thaumaturge
			}
			triggered_desc = {
				trigger = {
					faith = { has_doctrine_parameter = witchcraft_illegal }
					NOT = { is_local_player = yes }
				}
				desc = trait_witch
			}
			desc = trait_KoM_thaumaturge
		}
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_KoM_thaumaturge_desc
			}
			triggered_desc = {
				trigger = {
					faith = { has_doctrine_parameter = witchcraft_illegal }
					NOT = { is_local_player = yes }
				}
				desc = trait_KoM_witch_desc
			}
			desc = trait_KoM_thaumaturge_desc
		}
	}

	triggered_opinion = {
		parameter = witchcraft_illegal
		opinion_modifier = witchcraft_crime
		ignore_opinion_value_if_same_trait = yes
	}

	triggered_opinion = {
		parameter = witchcraft_shunned
		opinion_modifier = witchcraft_intolerant
		ignore_opinion_value_if_same_trait = yes
	}

	track = {
		10 = { }
		25 = { }
		50 = { }
		75 = { }
		100 = { }
	}

	icon = thaumaturge.dds
}
KoM_theurgist = {
	flag = mage

	track = {
		10 = { KoM_terrain_type_theurgy_novice_cancel_negative_supply = yes }
		25 = { KoM_terrain_type_theurgy_apprentice_cancel_negative_supply = yes }
		50 = { KoM_terrain_type_theurgy_adept_cancel_negative_supply = yes }
		75 = { KoM_terrain_type_theurgy_expert_cancel_negative_supply = yes }
		100 = { KoM_terrain_type_theurgy_master_cancel_negative_supply = yes }
	}

	icon = theurgist.dds
}
KoM_alchemist = {
	flag = mage

	name = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_KoM_alchemist
			}
			triggered_desc = {
				trigger = {
					faith = { has_doctrine_parameter = witchcraft_illegal }
					NOT = { is_local_player = yes }
				}
				desc = trait_witch
			}
			desc = trait_KoM_alchemist
		}
	}

	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { NOT = { exists = this } }
				desc = trait_KoM_alchemist_desc
			}
			triggered_desc = {
				trigger = {
					faith = { has_doctrine_parameter = witchcraft_illegal }
					NOT = { is_local_player = yes }
				}
				desc = trait_KoM_witch_desc
			}
			desc = trait_KoM_alchemist_desc
		}
	}

	triggered_opinion = {
		parameter = witchcraft_illegal
		opinion_modifier = witchcraft_crime
		ignore_opinion_value_if_same_trait = yes
	}

	triggered_opinion = {
		parameter = witchcraft_shunned
		opinion_modifier = witchcraft_intolerant
		ignore_opinion_value_if_same_trait = yes
	}

	track = {
		10 = {
			KoM_terrain_type_alchemy_elixir_of_ash_and_salt_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_draught_of_still_waters_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_infusion_of_lead_cancel_negative_supply = yes
		}
		25 =  {
			KoM_terrain_type_alchemy_elixir_of_ash_and_salt_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_dew_of_morning_stars_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_aqua_sapientiae_cancel_negative_supply = yes
		}
		50 =  {
			KoM_terrain_type_alchemy_elixir_of_the_solar_mind_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_draught_of_the_inner_flame_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_tears_of_the_red_king_cancel_negative_supply = yes
		}
		75 =  {
			KoM_terrain_type_alchemy_blood_of_the_phoenix_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_elixir_rubedo_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_homunculi_cancel_negative_supply = yes
		}
		100 =  {
			KoM_terrain_type_alchemy_elixir_vitae_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_aurum_astralis_cancel_negative_supply = yes
			KoM_terrain_type_alchemy_the_philosophers_stone_cancel_negative_supply = yes
		}
	}

	icon = alchemist.dds
}
KoM_daoshi = {
	flag = mage

	track = {
		10 = { }
		25 = { }
		50 = { }
		75 = { }
		100 = { }
	}

	icon = daoshi.dds
}
KoM_onmyoji = {
	flag = mage

	track = {
		10 = { }
		25 = { }
		50 = { }
		75 = { }
		100 = { }
	}

	icon = onmyoji.dds
}